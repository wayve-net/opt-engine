[
    "import os\nimport pathlib\nimport sys\n\nfrom setuptools import Extension, setup\n\nif sys.version_info < (3, 9):\n    raise RuntimeError(\"aiohttp 4.x requires Python 3.9+\")\n\n\nUSE_SYSTEM_DEPS = bool(\n    os.environ.get(\"AIOHTTP_USE_SYSTEM_DEPS\", os.environ.get(\"USE_SYSTEM_DEPS\"))\n)\nNO_EXTENSIONS: bool = bool(os.environ.get(\"AIOHTTP_NO_EXTENSIONS\"))\nHERE = pathlib.Path(__file__).parent\nIS_GIT_REPO = (HERE / \".git\").exists()\n\n\nif sys.implementation.name != \"cpython\":\n    NO_EXTENSIONS = True\n\n\nif (\n    not USE_SYSTEM_DEPS\n    and IS_GIT_REPO\n    and not (HERE / \"vendor/llhttp/README.md\").exists()\n):\n    print(\"Install submodules when building from git clone\", file=sys.stderr)\n    print(\"Hint:\", file=sys.stderr)\n    print(\"  git submodule update --init\", file=sys.stderr)\n    sys.exit(2)\n\n\n# NOTE: makefile cythonizes all Cython modules\n\nif USE_SYSTEM_DEPS:\n    import shlex\n\n    import pkgconfig\n\n    llhttp_sources = []\n    llhttp_kwargs = {\n        \"extra_compile_args\": shlex.split(pkgconfig.cflags(\"libllhttp\")),\n        \"extra_link_args\": shlex.split(pkgconfig.libs(\"libllhttp\")),\n    }\nelse:\n    llhttp_sources = [\n        \"vendor/llhttp/build/c/llhttp.c\",\n        \"vendor/llhttp/src/native/api.c\",\n        \"vendor/llhttp/src/native/http.c\",\n    ]\n    llhttp_kwargs = {\n        \"define_macros\": [(\"LLHTTP_STRICT_MODE\", 0)],\n        \"include_dirs\": [\"vendor/llhttp/build\"],\n    }\n\nextensions = [\n    Extension(\"aiohttp._websocket.mask\", [\"aiohttp/_websocket/mask.c\"]),\n    Extension(\n        \"aiohttp._http_parser\",\n        [\n            \"aiohttp/_http_parser.c\",\n            \"aiohttp/_find_header.c\",\n            *llhttp_sources,\n        ],\n        **llhttp_kwargs,\n    ),\n    Extension(\"aiohttp._http_writer\", [\"aiohttp/_http_writer.c\"]),\n    Extension(\"aiohttp._websocket.reader_c\", [\"aiohttp/_websocket/reader_c.c\"]),\n]\n\n\nbuild_type = \"Pure\" if NO_EXTENSIONS else \"Accelerated\"\nsetup_kwargs = {} if NO_EXTENSIONS else {\"ext_modules\": extensions}\n\nprint(\"*********************\", file=sys.stderr)\nprint(\"* {build_type} build *\".format_map(locals()), file=sys.stderr)\nprint(\"*********************\", file=sys.stderr)\nsetup(**setup_kwargs)\n",
    "from __future__ import annotations\n\nimport os\nimport re\nimport shutil\nimport sys\nfrom pathlib import Path\n\nimport nox\n\nnox.options.error_on_missing_interpreters = True\nnox.options.default_venv_backend = \"uv\"\n\n\ndef tests_impl(\n    session: nox.Session,\n    extras: str = \"socks,brotli,zstd,h2\",\n    # hypercorn dependency h2 compares bytes and strings\n    # https://github.com/python-hyper/h2/issues/1236\n    byte_string_comparisons: bool = False,\n    integration: bool = False,\n    pytest_extra_args: list[str] = [],\n    dependency_group: str = \"dev\",\n) -> None:\n    # Retrieve sys info from the Python implementation under test\n    # to avoid enabling memray when nox runs under CPython but tests PyPy\n    session_python_info = session.run(\n        \"python\",\n        \"-c\",\n        \"import sys; print(sys.implementation.name, sys.version_info.releaselevel)\",\n        silent=True,\n    ).strip()  # type: ignore[union-attr] # mypy doesn't know that silent=True  will return a string\n    implementation_name, release_level = session_python_info.split(\" \")\n\n    # Install deps and the package itself.\n    session.run_install(\n        \"uv\",\n        \"sync\",\n        \"--frozen\",\n        \"--group\",\n        dependency_group,\n        *(f\"--extra={extra}\" for extra in (extras.split(\",\") if extras else ())),\n    )\n    # Show the uv version.\n    session.run(\"uv\", \"--version\")\n    # Print the Python version and bytesize.\n    session.run(\"python\", \"--version\")\n    session.run(\"python\", \"-c\", \"import struct; print(struct.calcsize('P') * 8)\")\n    # Print OpenSSL information.\n    session.run(\"python\", \"-m\", \"OpenSSL.debug\")\n\n    memray_supported = True\n    if implementation_name != \"cpython\" or release_level != \"final\":\n        memray_supported = False\n    elif sys.platform == \"win32\":\n        memray_supported = False\n\n    # Environment variables being passed to the pytest run.\n    pytest_session_envvars = {\n        \"PYTHONWARNINGS\": \"always::DeprecationWarning\",\n        \"COVERAGE_CORE\": \"sysmon\",\n    }\n\n    # Inspired from https://hynek.me/articles/ditch-codecov-python/\n    # We use parallel mode and then combine in a later CI step\n    session.run(\n        \"python\",\n        *((\"-bb\",) if byte_string_comparisons else ()),\n        \"-m\",\n        \"coverage\",\n        \"run\",\n        \"--parallel-mode\",\n        \"-m\",\n        \"pytest\",\n        *(\"--memray\", \"--hide-memray-summary\") if memray_supported else (),\n        \"-v\",\n        \"-ra\",\n        *((\"--integration\",) if integration else ()),\n        \"--tb=native\",\n        \"--durations=10\",\n        \"--strict-config\",\n        \"--strict-markers\",\n        \"--disable-socket\",\n        \"--allow-unix-socket\",\n        \"--allow-hosts=localhost,127.0.0.1,::1,127.0.0.0,240.0.0.0\",  # See `TARPIT_HOST`\n        *pytest_extra_args,\n        *(session.posargs or (\"test/\",)),\n        env=pytest_session_envvars,\n    )\n\n\n@nox.session(\n    python=[\n        \"3.9\",\n        \"3.10\",\n        \"3.11\",\n        \"3.12\",\n        \"3.13\",\n        \"3.14\",\n        \"pypy3.10\",\n        \"pypy3.11\",\n    ]\n)\ndef test(session: nox.Session) -> None:\n    session.env[\"UV_PROJECT_ENVIRONMENT\"] = session.virtualenv.location\n    tests_impl(session)\n\n\n@nox.session(python=\"3\")\ndef test_integration(session: nox.Session) -> None:\n    \"\"\"Run integration tests\"\"\"\n    session.env[\"UV_PROJECT_ENVIRONMENT\"] = session.virtualenv.location\n    tests_impl(session, integration=True)\n\n\n@nox.session(python=\"3\")\ndef test_brotlipy(session: nox.Session) -> None:\n    \"\"\"Check that if 'brotlipy' is installed instead of 'brotli' or\n    'brotlicffi' that we still don't blow up.\n    \"\"\"\n    session.env[\"UV_PROJECT_ENVIRONMENT\"] = session.virtualenv.location\n    session.install(\"brotlipy\")\n    tests_impl(session, extras=\"socks\", byte_string_comparisons=False)\n\n\ndef git_clone(session: nox.Session, git_url: str) -> None:\n    \"\"\"We either clone the target repository or if already exist\n    simply reset the state and pull.\n    \"\"\"\n    expected_directory = git_url.split(\"/\")[-1]\n\n    if expected_directory.endswith(\".git\"):\n        expected_directory = expected_directory[:-4]\n\n    if not os.path.isdir(expected_directory):\n        session.run(\"git\", \"clone\", \"--depth\", \"1\", git_url, external=True)\n    else:\n        session.run(\n            \"git\", \"-C\", expected_directory, \"reset\", \"--hard\", \"HEAD\", external=True\n        )\n        session.run(\"git\", \"-C\", expected_directory, \"pull\", external=True)\n\n\n@nox.session(venv_backend=\"virtualenv\")  # botocore fails with uv\ndef downstream_botocore(session: nox.Session) -> None:\n    root = os.getcwd()\n    tmp_dir = session.create_tmp()\n\n    session.cd(tmp_dir)\n    git_clone(session, \"https://github.com/boto/botocore\")\n    session.chdir(\"botocore\")\n    session.run(\"git\", \"rev-parse\", \"HEAD\", external=True)\n    session.run(\"python\", \"scripts/ci/install\")\n\n    session.cd(root)\n    session.install(\".\", silent=False)\n    session.cd(f\"{tmp_dir}/botocore\")\n\n    session.run(\"python\", \"-c\", \"import urllib3; print(urllib3.__version__)\")\n    session.run(\"python\", \"scripts/ci/run-tests\")\n\n\n@nox.session()\ndef downstream_requests(session: nox.Session) -> None:\n    root = os.getcwd()\n    tmp_dir = session.create_tmp()\n\n    session.cd(tmp_dir)\n    git_clone(session, \"https://github.com/psf/requests\")\n    session.chdir(\"requests\")\n    session.run(\"git\", \"rev-parse\", \"HEAD\", external=True)\n    session.install(\".[socks]\", silent=False)\n    session.install(\"-r\", \"requirements-dev.txt\", silent=False)\n\n    session.cd(root)\n    session.install(\".\", silent=False)\n    session.cd(f\"{tmp_dir}/requests\")\n\n    session.run(\"python\", \"-c\", \"import urllib3; print(urllib3.__version__)\")\n    session.run(\"pytest\", \"tests\")\n\n\n@nox.session()\ndef format(session: nox.Session) -> None:\n    \"\"\"Run code formatters.\"\"\"\n    lint(session)\n\n\n@nox.session(python=\"3.12\")\ndef lint(session: nox.Session) -> None:\n    session.install(\"pre-commit\")\n    session.run(\"pre-commit\", \"run\", \"--all-files\")\n\n    mypy(session)\n\n\n@nox.session(python=\"3.12\")\ndef pyodideconsole(session: nox.Session) -> None:\n    session.env[\"UV_PROJECT_ENVIRONMENT\"] = session.virtualenv.location\n    # build wheel into dist folder\n    # Run build and capture output\n    build_output = session.run(\"uv\", \"run\", \"-m\", \"build\", \"--wheel\", silent=True)\n    assert build_output\n\n    # Extract wheel name using regex\n    wheel_match = re.search(r\"urllib3-[^\\s]+\\.whl\", build_output)\n    assert wheel_match\n    wheel_name = wheel_match.group(0)\n\n    # Read template and replace wheel name\n    template_path = Path(\"test/contrib/emscripten/templates/pyodide-console.html\")\n    html_content = template_path.read_text()\n    html_content = html_content.replace(\"{urllib3_wheel_name}.whl\", wheel_name)\n\n    # Write modified content to dist/index.html\n    dist_path = Path(\"dist\")\n    (dist_path / \"index.html\").write_text(html_content)\n\n    session.run(\"python\", \"-m\", \"http.server\", \"-d\", \"dist\", \"-b\", \"localhost\")\n\n\n@nox.session(python=\"3.12\")\n@nox.parametrize(\n    \"runner\", [\"node\", \"firefox\", \"chrome\"], ids=[\"node\", \"firefox\", \"chrome\"]\n)\ndef emscripten(session: nox.Session, runner: str) -> None:\n    \"\"\"Test on Emscripten with Pyodide & Chrome / Firefox / Node.js\"\"\"\n    session.env[\"UV_PROJECT_ENVIRONMENT\"] = session.virtualenv.location\n    if runner == \"node\":\n        print(\n            \"Node version:\",\n            session.run(\"node\", \"--version\", silent=True, external=True),\n        )\n    # make sure we have a dist dir for pyodide\n    dist_dir = None\n    if \"PYODIDE_ROOT\" in os.environ:\n        # we have a pyodide build tree checked out\n        # use the dist directory from that\n        dist_dir = Path(os.environ[\"PYODIDE_ROOT\"]) / \"dist\"\n    else:\n        # we don't have a build tree\n        pyodide_version = \"0.28.1\"\n\n        pyodide_artifacts_path = Path(session.cache_dir) / f\"pyodide-{pyodide_version}\"\n        if not pyodide_artifacts_path.exists():\n            print(\"Fetching pyodide build artifacts\")\n            session.run(\n                \"curl\",\n                \"-L\",\n                f\"https://github.com/pyodide/pyodide/releases/download/{pyodide_version}/pyodide-{pyodide_version}.tar.bz2\",\n                \"--output-dir\",\n                session.cache_dir,\n                \"-O\",\n                external=True,\n            )\n            pyodide_artifacts_path.mkdir(parents=True)\n            session.run(\n                \"tar\",\n                \"-xjf\",\n                f\"{pyodide_artifacts_path}.tar.bz2\",\n                \"-C\",\n                str(pyodide_artifacts_path),\n                \"--strip-components\",\n                \"1\",\n                external=True,\n            )\n\n        dist_dir = pyodide_artifacts_path\n    session.run(\"uv\", \"run\", \"-m\", \"build\")\n    assert dist_dir is not None\n    assert dist_dir.exists()\n    tests_impl(\n        session,\n        extras=\"\",\n        pytest_extra_args=[\n            \"--runtime\",\n            f\"{runner}-no-host\",\n            \"--dist-dir\",\n            str(dist_dir),\n            \"test/contrib/emscripten\",\n            \"-v\",\n        ],\n        dependency_group=\"emscripten\",\n    )\n\n\n@nox.session(python=\"3.12\")\ndef mypy(session: nox.Session) -> None:\n    \"\"\"Run mypy.\"\"\"\n    session.env[\"UV_PROJECT_ENVIRONMENT\"] = session.virtualenv.location\n    session.run_install(\"uv\", \"sync\", \"--frozen\", \"--only-group\", \"mypy\")\n    session.install(\".\")\n    session.run(\"mypy\", \"--version\")\n    session.run(\n        \"mypy\",\n        \"-p\",\n        \"dummyserver\",\n        \"-m\",\n        \"noxfile\",\n        \"-p\",\n        \"urllib3\",\n        \"-p\",\n        \"test\",\n    )\n\n\n@nox.session\ndef docs(session: nox.Session) -> None:\n    session.env[\"UV_PROJECT_ENVIRONMENT\"] = session.virtualenv.location\n    session.run_install(\n        \"uv\",\n        \"sync\",\n        \"--frozen\",\n        \"--group\",\n        \"docs\",\n        \"--extra\",\n        \"socks\",\n        \"--extra\",\n        \"brotli\",\n        \"--extra\",\n        \"zstd\",\n    )\n\n    session.chdir(\"docs\")\n    if os.path.exists(\"_build\"):\n        shutil.rmtree(\"_build\")\n    session.run(\"sphinx-build\", \"-b\", \"html\", \"-W\", \".\", \"_build/html\")\n",
    "import os\nimport pathlib\nimport re\n\nimport setuptools\n\n\nroot_dir = pathlib.Path(__file__).parent\n\nexec((root_dir / \"src\" / \"websockets\" / \"version.py\").read_text(encoding=\"utf-8\"))\n\n# PyPI disables the \"raw\" directive. Remove this section of the README.\nlong_description = re.sub(\n    r\"^\\.\\. raw:: html.*?^(?=\\w)\",\n    \"\",\n    (root_dir / \"README.rst\").read_text(encoding=\"utf-8\"),\n    flags=re.DOTALL | re.MULTILINE,\n)\n\n# Set BUILD_EXTENSION to yes or no to force building or not building the\n# speedups extension. If unset, the extension is built only if possible.\nif os.environ.get(\"BUILD_EXTENSION\") == \"no\":\n    ext_modules = []\nelse:\n    ext_modules = [\n        setuptools.Extension(\n            \"websockets.speedups\",\n            sources=[\"src/websockets/speedups.c\"],\n            optional=os.environ.get(\"BUILD_EXTENSION\") != \"yes\",\n        )\n    ]\n\n# Static values are declared in pyproject.toml.\nsetuptools.setup(\n    version=version,\n    long_description=long_description,\n    long_description_content_type=\"text/x-rst\",\n    ext_modules=ext_modules,\n)\n",
    "Theme Auto Light Dark Table of Contents socket \u00e2\u0080\u0094 Low-level networking interface Socket families Module contents Exceptions Constants Functions Creating sockets Other functions Socket Objects Notes on socket timeouts Timeouts and the connect method Timeouts and the accept method Example Previous topic Developing with asyncio Next topic ssl \u00e2\u0080\u0094 TLS/SSL wrapper for socket objects This page Report a bug Show source Navigation index modules | next | previous | Python \u00bb 3.13.7 Documentation \u00bb The Python Standard Library \u00bb Networking and Interprocess Communication \u00bb socket \u00e2\u0080\u0094 Low-level networking interface | Theme Auto Light Dark | socket \u00e2\u0080\u0094 Low-level networking interface \u00c2\u00b6 Source code: Lib/socket.py This module provides access to the BSD socket interface. It is available on\nall modern Unix systems, Windows, MacOS, and probably additional platforms. Note Some behavior may be platform dependent, since calls are made to the operating\nsystem socket APIs. Availability : not WASI. This module does not work or is not available on WebAssembly. See WebAssembly platforms for more information. The Python interface is a straightforward transliteration of the Unix system\ncall and library interface for sockets to Python\u00e2\u0080\u0099s object-oriented style: the socket() function returns a socket object whose methods implement\nthe various socket system calls.  Parameter types are somewhat higher-level than\nin the C interface: as with read() and write() operations on Python\nfiles, buffer allocation on receive operations is automatic, and buffer length\nis implicit on send operations. See also Module socketserver Classes that simplify writing network servers. Module ssl A TLS/SSL wrapper for socket objects. Socket families \u00c2\u00b6 Depending on the system and the build options, various socket families\nare supported by this module. The address format required by a particular socket object is automatically\nselected based on the address family specified when the socket object was\ncreated.  Socket addresses are represented as follows: The address of an AF_UNIX socket bound to a file system node\nis represented as a string, using the file system encoding and the 'surrogateescape' error handler (see PEP 383 ).  An address in\nLinux\u00e2\u0080\u0099s abstract namespace is returned as a bytes-like object with\nan initial null byte; note that sockets in this namespace can\ncommunicate with normal file system sockets, so programs intended to\nrun on Linux may need to deal with both types of address.  A string or\nbytes-like object can be used for either type of address when\npassing it as an argument. Changed in version 3.3: Previously, AF_UNIX socket paths were assumed to use UTF-8\nencoding. Changed in version 3.5: Writable bytes-like object is now accepted. A pair (host, port) is used for the AF_INET address family,\nwhere host is a string representing either a hostname in internet domain\nnotation like 'daring.cwi.nl' or an IPv4 address like '100.50.200.5' ,\nand port is an integer. For IPv4 addresses, two special forms are accepted instead of a host\naddress: '' represents INADDR_ANY , which is used to bind to all\ninterfaces, and the string '<broadcast>' represents INADDR_BROADCAST .  This behavior is not compatible with IPv6,\ntherefore, you may want to avoid these if you intend to support IPv6 with your\nPython programs. For AF_INET6 address family, a four-tuple (host, port, flowinfo, scope_id) is used, where flowinfo and scope_id represent the sin6_flowinfo and sin6_scope_id members in struct sockaddr_in6 in C.  For socket module methods, flowinfo and scope_id can be omitted just for\nbackward compatibility.  Note, however, omission of scope_id can cause problems\nin manipulating scoped IPv6 addresses. Changed in version 3.7: For multicast addresses (with scope_id meaningful) address may not contain %scope_id (or zone id ) part. This information is superfluous and may\nbe safely omitted (recommended). AF_NETLINK sockets are represented as pairs (pid, groups) . Linux-only support for TIPC is available using the AF_TIPC address family.  TIPC is an open, non-IP based networked protocol designed\nfor use in clustered computer environments.  Addresses are represented by a\ntuple, and the fields depend on the address type. The general tuple form is (addr_type, v1, v2, v3 [, scope]) , where: addr_type is one of TIPC_ADDR_NAMESEQ , TIPC_ADDR_NAME ,\nor TIPC_ADDR_ID . scope is one of TIPC_ZONE_SCOPE , TIPC_CLUSTER_SCOPE , and TIPC_NODE_SCOPE . If addr_type is TIPC_ADDR_NAME , then v1 is the server type, v2 is\nthe port identifier, and v3 should be 0. If addr_type is TIPC_ADDR_NAMESEQ , then v1 is the server type, v2 is the lower port number, and v3 is the upper port number. If addr_type is TIPC_ADDR_ID , then v1 is the node, v2 is the\nreference, and v3 should be set to 0. A tuple (interface, ) is used for the AF_CAN address family,\nwhere interface is a string representing a network interface name like 'can0' . The network interface name '' can be used to receive packets\nfrom all network interfaces of this family. CAN_ISOTP protocol require a tuple (interface, rx_addr, tx_addr) where both additional parameters are unsigned long integer that represent a\nCAN identifier (standard or extended). CAN_J1939 protocol require a tuple (interface, name, pgn, addr) where additional parameters are 64-bit unsigned integer representing the\nECU name, a 32-bit unsigned integer representing the Parameter Group Number\n(PGN), and an 8-bit integer representing the address. A string or a tuple (id, unit) is used for the SYSPROTO_CONTROL protocol of the PF_SYSTEM family. The string is the name of a\nkernel control using a dynamically assigned ID. The tuple can be used if ID\nand unit number of the kernel control are known or if a registered ID is\nused. Added in version 3.3. AF_BLUETOOTH supports the following protocols and address\nformats: BTPROTO_L2CAP accepts (bdaddr, psm) where bdaddr is\nthe Bluetooth address as a string and psm is an integer. BTPROTO_RFCOMM accepts (bdaddr, channel) where bdaddr is the Bluetooth address as a string and channel is an integer. BTPROTO_HCI accepts a format that depends on your OS. On Linux it accepts a tuple (device_id,) where device_id is an integer specifying the number of the Bluetooth device. On FreeBSD, NetBSD and DragonFly BSD it accepts bdaddr where bdaddr is the Bluetooth address as a string. Changed in version 3.2: NetBSD and DragonFlyBSD support added. Changed in version 3.13.3: FreeBSD support added. BTPROTO_SCO accepts bdaddr where bdaddr is\nthe Bluetooth address as a string or a bytes object.\n(ex. '12:23:34:45:56:67' or b'12:23:34:45:56:67' )\nThis protocol is not supported under FreeBSD. AF_ALG is a Linux-only socket based interface to Kernel\ncryptography. An algorithm socket is configured with a tuple of two to four\nelements (type, name [, feat [, mask]]) , where: type is the algorithm type as string, e.g. aead , hash , skcipher or rng . name is the algorithm name and operation mode as string, e.g. sha256 , hmac(sha256) , cbc(aes) or drbg_nopr_ctr_aes256 . feat and mask are unsigned 32bit integers. Availability : Linux >= 2.6.38. Some algorithm types require more recent Kernels. Added in version 3.6. AF_VSOCK allows communication between virtual machines and\ntheir hosts. The sockets are represented as a (CID, port) tuple\nwhere the context ID or CID and port are integers. Availability : Linux >= 3.9 See vsock(7) Added in version 3.7. AF_PACKET is a low-level interface directly to network devices.\nThe addresses are represented by the tuple (ifname, proto[, pkttype[, hatype[, addr]]]) where: ifname - String specifying the device name. proto - The Ethernet protocol number.\nMay be ETH_P_ALL to capture all protocols,\none of the ETHERTYPE_* constants or any other Ethernet protocol number. pkttype - Optional integer specifying the packet type: PACKET_HOST (the default) - Packet addressed to the local host. PACKET_BROADCAST - Physical-layer broadcast packet. PACKET_MULTICAST - Packet sent to a physical-layer multicast address. PACKET_OTHERHOST - Packet to some other host that has been caught by\na device driver in promiscuous mode. PACKET_OUTGOING - Packet originating from the local host that is\nlooped back to a packet socket. hatype - Optional integer specifying the ARP hardware address type. addr - Optional bytes-like object specifying the hardware physical\naddress, whose interpretation depends on the device. Availability : Linux >= 2.2. AF_QIPCRTR is a Linux-only socket based interface for communicating\nwith services running on co-processors in Qualcomm platforms. The address\nfamily is represented as a (node, port) tuple where the node and port are non-negative integers. Availability : Linux >= 4.7. Added in version 3.8. IPPROTO_UDPLITE is a variant of UDP which allows you to specify\nwhat portion of a packet is covered with the checksum. It adds two socket\noptions that you can change. self.setsockopt(IPPROTO_UDPLITE, UDPLITE_SEND_CSCOV, length) will\nchange what portion of outgoing packets are covered by the checksum and self.setsockopt(IPPROTO_UDPLITE, UDPLITE_RECV_CSCOV, length) will\nfilter out packets which cover too little of their data. In both cases length should be in range(8, 2**16, 8) . Such a socket should be constructed with socket(AF_INET, SOCK_DGRAM, IPPROTO_UDPLITE) for IPv4 or socket(AF_INET6, SOCK_DGRAM, IPPROTO_UDPLITE) for IPv6. Availability : Linux >= 2.6.20, FreeBSD >= 10.1 Added in version 3.9. AF_HYPERV is a Windows-only socket based interface for communicating\nwith Hyper-V hosts and guests. The address family is represented as a (vm_id, service_id) tuple where the vm_id and service_id are\nUUID strings. The vm_id is the virtual machine identifier or a set of known VMID values\nif the target is not a specific virtual machine. Known VMID constants\ndefined on socket are: HV_GUID_ZERO HV_GUID_BROADCAST HV_GUID_WILDCARD - Used to bind on itself and accept connections from\nall partitions. HV_GUID_CHILDREN - Used to bind on itself and accept connection from\nchild partitions. HV_GUID_LOOPBACK - Used as a target to itself. HV_GUID_PARENT - When used as a bind accepts connection from the parent\npartition. When used as an address target it will connect to the parent partition. The service_id is the service identifier of the registered service. Added in version 3.12. If you use a hostname in the host portion of IPv4/v6 socket address, the\nprogram may show a nondeterministic behavior, as Python uses the first address\nreturned from the DNS resolution.  The socket address will be resolved\ndifferently into an actual IPv4/v6 address, depending on the results from DNS\nresolution and/or the host configuration.  For deterministic behavior use a\nnumeric address in host portion. All errors raise exceptions.  The normal exceptions for invalid argument types\nand out-of-memory conditions can be raised. Errors\nrelated to socket or address semantics raise OSError or one of its\nsubclasses. Non-blocking mode is supported through setblocking() .  A\ngeneralization of this based on timeouts is supported through settimeout() . Module contents \u00c2\u00b6 The module socket exports the following elements. Exceptions \u00c2\u00b6 exception socket. error \u00c2\u00b6 A deprecated alias of OSError . Changed in version 3.3: Following PEP 3151 , this class was made an alias of OSError . exception socket. herror \u00c2\u00b6 A subclass of OSError , this exception is raised for\naddress-related errors, i.e. for functions that use h_errno in the POSIX\nC API, including gethostbyname_ex() and gethostbyaddr() .\nThe accompanying value is a pair (h_errno, string) representing an\nerror returned by a library call. h_errno is a numeric value, while string represents the description of h_errno , as returned by the hstrerror() C function. Changed in version 3.3: This class was made a subclass of OSError . exception socket. gaierror \u00c2\u00b6 A subclass of OSError , this exception is raised for\naddress-related errors by getaddrinfo() and getnameinfo() .\nThe accompanying value is a pair (error, string) representing an error\nreturned by a library call. string represents the description of error , as returned by the gai_strerror() C function.  The\nnumeric error value will match one of the EAI_* constants\ndefined in this module. Changed in version 3.3: This class was made a subclass of OSError . exception socket. timeout \u00c2\u00b6 A deprecated alias of TimeoutError . A subclass of OSError , this exception is raised when a timeout\noccurs on a socket which has had timeouts enabled via a prior call to settimeout() (or implicitly through setdefaulttimeout() ).  The accompanying value is a string\nwhose value is currently always \u00e2\u0080\u009ctimed out\u00e2\u0080\u009d. Changed in version 3.3: This class was made a subclass of OSError . Changed in version 3.10: This class was made an alias of TimeoutError . Constants \u00c2\u00b6 The AF_* and SOCK_* constants are now AddressFamily and SocketKind IntEnum collections. Added in version 3.4. socket. AF_UNIX \u00c2\u00b6 socket. AF_INET \u00c2\u00b6 socket. AF_INET6 \u00c2\u00b6 These constants represent the address (and protocol) families, used for the\nfirst argument to socket() .  If the AF_UNIX constant is not\ndefined then this protocol is unsupported.  More constants may be available\ndepending on the system. socket. AF_UNSPEC \u00c2\u00b6 AF_UNSPEC means that getaddrinfo() should return socket addresses for any\naddress family (either IPv4, IPv6, or any other) that can be used. socket. SOCK_STREAM \u00c2\u00b6 socket. SOCK_DGRAM \u00c2\u00b6 socket. SOCK_RAW \u00c2\u00b6 socket. SOCK_RDM \u00c2\u00b6 socket. SOCK_SEQPACKET \u00c2\u00b6 These constants represent the socket types, used for the second argument to socket() .  More constants may be available depending on the system.\n(Only SOCK_STREAM and SOCK_DGRAM appear to be generally\nuseful.) socket. SOCK_CLOEXEC \u00c2\u00b6 socket. SOCK_NONBLOCK \u00c2\u00b6 These two constants, if defined, can be combined with the socket types and\nallow you to set some flags atomically (thus avoiding possible race\nconditions and the need for separate calls). See also Secure File Descriptor Handling for a more thorough explanation. Availability : Linux >= 2.6.27. Added in version 3.2. SO_* socket. SOMAXCONN \u00c2\u00b6 MSG_* SOL_* SCM_* IPPROTO_* IPPORT_* INADDR_* IP_* IPV6_* EAI_* AI_* NI_* TCP_* Many constants of these forms, documented in the Unix documentation on sockets\nand/or the IP protocol, are also defined in the socket module. They are\ngenerally used in arguments to the setsockopt() and getsockopt() methods of socket objects.  In most cases, only those symbols that are defined\nin the Unix header files are defined; for a few symbols, default values are\nprovided. Changed in version 3.6: SO_DOMAIN , SO_PROTOCOL , SO_PEERSEC , SO_PASSSEC , TCP_USER_TIMEOUT , TCP_CONGESTION were added. Changed in version 3.6.5: On Windows, TCP_FASTOPEN , TCP_KEEPCNT appear if run-time Windows\nsupports. Changed in version 3.7: TCP_NOTSENT_LOWAT was added. On Windows, TCP_KEEPIDLE , TCP_KEEPINTVL appear if run-time Windows\nsupports. Changed in version 3.10: IP_RECVTOS was added.\n Added TCP_KEEPALIVE . On MacOS this constant can be used in the same\n way that TCP_KEEPIDLE is used on Linux. Changed in version 3.11: Added TCP_CONNECTION_INFO . On MacOS this constant can be used in the\nsame way that TCP_INFO is used on Linux and BSD. Changed in version 3.12: Added SO_RTABLE and SO_USER_COOKIE . On OpenBSD\nand FreeBSD respectively those constants can be used in the same way that SO_MARK is used on Linux. Also added missing TCP socket options from\nLinux: TCP_MD5SIG , TCP_THIN_LINEAR_TIMEOUTS , TCP_THIN_DUPACK , TCP_REPAIR , TCP_REPAIR_QUEUE , TCP_QUEUE_SEQ , TCP_REPAIR_OPTIONS , TCP_TIMESTAMP , TCP_CC_INFO , TCP_SAVE_SYN , TCP_SAVED_SYN , TCP_REPAIR_WINDOW , TCP_FASTOPEN_CONNECT , TCP_ULP , TCP_MD5SIG_EXT , TCP_FASTOPEN_KEY , TCP_FASTOPEN_NO_COOKIE , TCP_ZEROCOPY_RECEIVE , TCP_INQ , TCP_TX_DELAY .\nAdded IP_PKTINFO , IP_UNBLOCK_SOURCE , IP_BLOCK_SOURCE , IP_ADD_SOURCE_MEMBERSHIP , IP_DROP_SOURCE_MEMBERSHIP . Changed in version 3.13: Added SO_BINDTOIFINDEX . On Linux this constant can be used in the\nsame way that SO_BINDTODEVICE is used, but with the index of a\nnetwork interface instead of its name. socket. AF_CAN \u00c2\u00b6 socket. PF_CAN \u00c2\u00b6 SOL_CAN_* CAN_* Many constants of these forms, documented in the Linux documentation, are\nalso defined in the socket module. Availability : Linux >= 2.6.25, NetBSD >= 8. Added in version 3.3. Changed in version 3.11: NetBSD support was added. Changed in version 3.13.4: Restored missing CAN_RAW_ERR_FILTER on Linux. socket. CAN_BCM \u00c2\u00b6 CAN_BCM_* CAN_BCM, in the CAN protocol family, is the broadcast manager (BCM) protocol.\nBroadcast manager constants, documented in the Linux documentation, are also\ndefined in the socket module. Availability : Linux >= 2.6.25. Note The CAN_BCM_CAN_FD_FRAME flag is only available on Linux >= 4.8. Added in version 3.4. socket. CAN_RAW_FD_FRAMES \u00c2\u00b6 Enables CAN FD support in a CAN_RAW socket. This is disabled by default.\nThis allows your application to send both CAN and CAN FD frames; however,\nyou must accept both CAN and CAN FD frames when reading from the socket. This constant is documented in the Linux documentation. Availability : Linux >= 3.6. Added in version 3.5. socket. CAN_RAW_JOIN_FILTERS \u00c2\u00b6 Joins the applied CAN filters such that only CAN frames that match all\ngiven CAN filters are passed to user space. This constant is documented in the Linux documentation. Availability : Linux >= 4.1. Added in version 3.9. socket. CAN_ISOTP \u00c2\u00b6 CAN_ISOTP, in the CAN protocol family, is the ISO-TP (ISO 15765-2) protocol.\nISO-TP constants, documented in the Linux documentation. Availability : Linux >= 2.6.25. Added in version 3.7. socket. CAN_J1939 \u00c2\u00b6 CAN_J1939, in the CAN protocol family, is the SAE J1939 protocol.\nJ1939 constants, documented in the Linux documentation. Availability : Linux >= 5.4. Added in version 3.9. socket. AF_DIVERT \u00c2\u00b6 socket. PF_DIVERT \u00c2\u00b6 These two constants, documented in the FreeBSD divert(4) manual page, are\nalso defined in the socket module. Availability : FreeBSD >= 14.0. Added in version 3.12. socket. AF_PACKET \u00c2\u00b6 socket. PF_PACKET \u00c2\u00b6 PACKET_* Many constants of these forms, documented in the Linux documentation, are\nalso defined in the socket module. Availability : Linux >= 2.2. socket. ETH_P_ALL \u00c2\u00b6 ETH_P_ALL can be used in the socket constructor as proto for the AF_PACKET family in order to\ncapture every packet, regardless of protocol. For more information, see the packet(7) manpage. Availability : Linux. Added in version 3.12. socket. AF_RDS \u00c2\u00b6 socket. PF_RDS \u00c2\u00b6 socket. SOL_RDS \u00c2\u00b6 RDS_* Many constants of these forms, documented in the Linux documentation, are\nalso defined in the socket module. Availability : Linux >= 2.6.30. Added in version 3.3. socket. SIO_RCVALL \u00c2\u00b6 socket. SIO_KEEPALIVE_VALS \u00c2\u00b6 socket. SIO_LOOPBACK_FAST_PATH \u00c2\u00b6 RCVALL_* Constants for Windows\u00e2\u0080\u0099 WSAIoctl(). The constants are used as arguments to the ioctl() method of socket objects. Changed in version 3.6: SIO_LOOPBACK_FAST_PATH was added. TIPC_* TIPC related constants, matching the ones exported by the C socket API. See\nthe TIPC documentation for more information. socket. AF_ALG \u00c2\u00b6 socket. SOL_ALG \u00c2\u00b6 ALG_* Constants for Linux Kernel cryptography. Availability : Linux >= 2.6.38. Added in version 3.6. socket. AF_VSOCK \u00c2\u00b6 socket. IOCTL_VM_SOCKETS_GET_LOCAL_CID \u00c2\u00b6 VMADDR* SO_VM* Constants for Linux host/guest communication. Availability : Linux >= 4.8. Added in version 3.7. socket. AF_LINK \u00c2\u00b6 Availability : BSD, macOS. Added in version 3.4. socket. has_ipv6 \u00c2\u00b6 This constant contains a boolean value which indicates if IPv6 is supported on\nthis platform. socket. BDADDR_ANY \u00c2\u00b6 socket. BDADDR_LOCAL \u00c2\u00b6 These are string constants containing Bluetooth addresses with special\nmeanings. For example, BDADDR_ANY can be used to indicate\nany address when specifying the binding socket with BTPROTO_RFCOMM . socket. HCI_FILTER \u00c2\u00b6 socket. HCI_TIME_STAMP \u00c2\u00b6 socket. HCI_DATA_DIR \u00c2\u00b6 For use with BTPROTO_HCI . HCI_FILTER is only\navailable on Linux and FreeBSD. HCI_TIME_STAMP and HCI_DATA_DIR are only available on Linux. socket. AF_QIPCRTR \u00c2\u00b6 Constant for Qualcomm\u00e2\u0080\u0099s IPC router protocol, used to communicate with\nservice providing remote processors. Availability : Linux >= 4.7. socket. SCM_CREDS2 \u00c2\u00b6 socket. LOCAL_CREDS \u00c2\u00b6 socket. LOCAL_CREDS_PERSISTENT \u00c2\u00b6 LOCAL_CREDS and LOCAL_CREDS_PERSISTENT can be used\nwith SOCK_DGRAM, SOCK_STREAM sockets, equivalent to\nLinux/DragonFlyBSD SO_PASSCRED, while LOCAL_CREDS\nsends the credentials at first read, LOCAL_CREDS_PERSISTENT\nsends for each read, SCM_CREDS2 must be then used for\nthe latter for the message type. Added in version 3.11. Availability : FreeBSD. socket. SO_INCOMING_CPU \u00c2\u00b6 Constant to optimize CPU locality, to be used in conjunction with SO_REUSEPORT . Added in version 3.11. Availability : Linux >= 3.9 socket. AF_HYPERV \u00c2\u00b6 socket. HV_PROTOCOL_RAW \u00c2\u00b6 socket. HVSOCKET_CONNECT_TIMEOUT \u00c2\u00b6 socket. HVSOCKET_CONNECT_TIMEOUT_MAX \u00c2\u00b6 socket. HVSOCKET_CONNECTED_SUSPEND \u00c2\u00b6 socket. HVSOCKET_ADDRESS_FLAG_PASSTHRU \u00c2\u00b6 socket. HV_GUID_ZERO \u00c2\u00b6 socket. HV_GUID_WILDCARD \u00c2\u00b6 socket. HV_GUID_BROADCAST \u00c2\u00b6 socket. HV_GUID_CHILDREN \u00c2\u00b6 socket. HV_GUID_LOOPBACK \u00c2\u00b6 socket. HV_GUID_PARENT \u00c2\u00b6 Constants for Windows Hyper-V sockets for host/guest communications. Availability : Windows. Added in version 3.12. socket. ETHERTYPE_ARP \u00c2\u00b6 socket. ETHERTYPE_IP \u00c2\u00b6 socket. ETHERTYPE_IPV6 \u00c2\u00b6 socket. ETHERTYPE_VLAN \u00c2\u00b6 IEEE 802.3 protocol number .\nconstants. Availability : Linux, FreeBSD, macOS. Added in version 3.12. socket. SHUT_RD \u00c2\u00b6 socket. SHUT_WR \u00c2\u00b6 socket. SHUT_RDWR \u00c2\u00b6 These constants are used by the shutdown() method of socket objects. Availability : not WASI. Functions \u00c2\u00b6 Creating sockets \u00c2\u00b6 The following functions all create socket objects . class socket. socket ( family = AF_INET , type = SOCK_STREAM , proto = 0 , fileno = None ) \u00c2\u00b6 Create a new socket using the given address family, socket type and protocol\nnumber.  The address family should be AF_INET (the default), AF_INET6 , AF_UNIX , AF_CAN , AF_PACKET ,\nor AF_RDS . The socket type should be SOCK_STREAM (the\ndefault), SOCK_DGRAM , SOCK_RAW or perhaps one of the other SOCK_ constants. The protocol number is usually zero and may be omitted\nor in the case where the address family is AF_CAN the protocol\nshould be one of CAN_RAW , CAN_BCM , CAN_ISOTP or CAN_J1939 . If fileno is specified, the values for family , type , and proto are\nauto-detected from the specified file descriptor.  Auto-detection can be\noverruled by calling the function with explicit family , type , or proto arguments.  This only affects how Python represents e.g. the return value\nof socket.getpeername() but not the actual OS resource.  Unlike socket.fromfd() , fileno will return the same socket and not a\nduplicate. This may help close a detached socket using socket.close() . The newly created socket is non-inheritable . Raises an auditing event socket.__new__ with arguments self , family , type , protocol . Changed in version 3.3: The AF_CAN family was added.\nThe AF_RDS family was added. Changed in version 3.4: The CAN_BCM protocol was added. Changed in version 3.4: The returned socket is now non-inheritable. Changed in version 3.7: The CAN_ISOTP protocol was added. Changed in version 3.7: When SOCK_NONBLOCK or SOCK_CLOEXEC bit flags are applied to type they are cleared, and socket.type will not reflect them.  They are still passed\nto the underlying system socket() call.  Therefore, sock = socket . socket ( socket . AF_INET , socket . SOCK_STREAM | socket . SOCK_NONBLOCK ) will still create a non-blocking socket on OSes that support SOCK_NONBLOCK , but sock.type will be set to socket.SOCK_STREAM . Changed in version 3.9: The CAN_J1939 protocol was added. Changed in version 3.10: The IPPROTO_MPTCP protocol was added. socket. socketpair ( [ family [ , type [ , proto ] ] ] ) \u00c2\u00b6 Build a pair of connected socket objects using the given address family, socket\ntype, and protocol number.  Address family, socket type, and protocol number are\nas for the socket() function above. The default family is AF_UNIX if defined on the platform; otherwise, the default is AF_INET . The newly created sockets are non-inheritable . Changed in version 3.2: The returned socket objects now support the whole socket API, rather\nthan a subset. Changed in version 3.4: The returned sockets are now non-inheritable. Changed in version 3.5: Windows support added. socket. create_connection ( address , timeout = GLOBAL_DEFAULT , source_address = None , * , all_errors = False ) \u00c2\u00b6 Connect to a TCP service listening on the internet address (a 2-tuple (host, port) ), and return the socket object.  This is a higher-level\nfunction than socket.connect() : if host is a non-numeric hostname,\nit will try to resolve it for both AF_INET and AF_INET6 ,\nand then try to connect to all possible addresses in turn until a\nconnection succeeds.  This makes it easy to write clients that are\ncompatible to both IPv4 and IPv6. Passing the optional timeout parameter will set the timeout on the\nsocket instance before attempting to connect.  If no timeout is\nsupplied, the global default timeout setting returned by getdefaulttimeout() is used. If supplied, source_address must be a 2-tuple (host, port) for the\nsocket to bind to as its source address before connecting.  If host or port\nare \u00e2\u0080\u0098\u00e2\u0080\u0099 or 0 respectively the OS default behavior will be used. When a connection cannot be created, an exception is raised. By default,\nit is the exception from the last address in the list. If all_errors is True , it is an ExceptionGroup containing the errors of all\nattempts. Changed in version 3.2: source_address was added. Changed in version 3.11: all_errors was added. socket. create_server ( address , * , family = AF_INET , backlog = None , reuse_port = False , dualstack_ipv6 = False ) \u00c2\u00b6 Convenience function which creates a TCP socket bound to address (a 2-tuple (host, port) ) and returns the socket object. family should be either AF_INET or AF_INET6 . backlog is the queue size passed to socket.listen() ; if not specified\n, a default reasonable value is chosen. reuse_port dictates whether to set the SO_REUSEPORT socket option. If dualstack_ipv6 is true, family is AF_INET6 and the platform\nsupports it the socket will be able to accept both IPv4 and IPv6 connections,\nelse it will raise ValueError . Most POSIX platforms and Windows are\nsupposed to support this functionality.\nWhen this functionality is enabled the address returned by socket.getpeername() when an IPv4 connection occurs will be an IPv6\naddress represented as an IPv4-mapped IPv6 address.\nIf dualstack_ipv6 is false it will explicitly disable this functionality\non platforms that enable it by default (e.g. Linux).\nThis parameter can be used in conjunction with has_dualstack_ipv6() : import socket addr = ( \"\" , 8080 ) # all interfaces, port 8080 if socket . has_dualstack_ipv6 (): s = socket . create_server ( addr , family = socket . AF_INET6 , dualstack_ipv6 = True ) else : s = socket . create_server ( addr ) Note On POSIX platforms the SO_REUSEADDR socket option is set in order to\nimmediately reuse previous sockets which were bound on the same address and remained in TIME_WAIT state. Added in version 3.8. socket. has_dualstack_ipv6 ( ) \u00c2\u00b6 Return True if the platform supports creating a TCP socket which can\nhandle both IPv4 and IPv6 connections. Added in version 3.8. socket. fromfd ( fd , family , type , proto = 0 ) \u00c2\u00b6 Duplicate the file descriptor fd (an integer as returned by a file object\u00e2\u0080\u0099s fileno() method) and build a socket object from the result.  Address\nfamily, socket type and protocol number are as for the socket() function\nabove. The file descriptor should refer to a socket, but this is not checked \u00e2\u0080\u0094\nsubsequent operations on the object may fail if the file descriptor is invalid.\nThis function is rarely needed, but can be used to get or set socket options on\na socket passed to a program as standard input or output (such as a server\nstarted by the Unix inet daemon).  The socket is assumed to be in blocking mode. The newly created socket is non-inheritable . Changed in version 3.4: The returned socket is now non-inheritable. socket. fromshare ( data ) \u00c2\u00b6 Instantiate a socket from data obtained from the socket.share() method.  The socket is assumed to be in blocking mode. Availability : Windows. Added in version 3.3. socket. SocketType \u00c2\u00b6 This is a Python type object that represents the socket object type. It is the\nsame as type(socket(...)) . Other functions \u00c2\u00b6 The socket module also offers various network-related services: socket. close ( fd ) \u00c2\u00b6 Close a socket file descriptor. This is like os.close() , but for\nsockets. On some platforms (most noticeable Windows) os.close() does not work for socket file descriptors. Added in version 3.7. socket. getaddrinfo ( host , port , family = AF_UNSPEC , type = 0 , proto = 0 , flags = 0 ) \u00c2\u00b6 This function wraps the C function getaddrinfo of the underlying system. Translate the host / port argument into a sequence of 5-tuples that contain\nall the necessary arguments for creating a socket connected to that service. host is a domain name, a string representation of an IPv4/v6 address\nor None . port is a string service name such as 'http' , a numeric\nport number or None .  By passing None as the value of host and port , you can pass NULL to the underlying C API. The family , type and proto arguments can be optionally specified\nin order to provide options and limit the list of addresses returned.\nPass their default values ( AF_UNSPEC , 0, and 0, respectively)\nto not limit the results. See the note below for details. The flags argument can be one or several of the AI_* constants,\nand will influence how results are computed and returned.\nFor example, AI_NUMERICHOST will disable domain name resolution\nand will raise an error if host is a domain name. The function returns a list of 5-tuples with the following structure: (family, type, proto, canonname, sockaddr) In these tuples, family , type , proto are all integers and are\nmeant to be passed to the socket() function. canonname will be\na string representing the canonical name of the host if AI_CANONNAME is part of the flags argument; else canonname will be empty. sockaddr is a tuple describing a socket address, whose\nformat depends on the returned family (a (address, port) 2-tuple for AF_INET , a (address, port, flowinfo, scope_id) 4-tuple for AF_INET6 ), and is meant to be passed to the socket.connect() method. Note If you intend to use results from getaddrinfo() to create a socket\n(rather than, for example, retrieve canonname ),\nconsider limiting the results by type (e.g. SOCK_STREAM or SOCK_DGRAM ) and/or proto (e.g. IPPROTO_TCP or IPPROTO_UDP ) that your application can handle. The behavior with default values of family , type , proto and flags is system-specific. Many systems (for example, most Linux configurations) will return a sorted\nlist of all matching addresses.\nThese addresses should generally be tried in order until a connection succeeds\n(possibly tried in parallel, for example, using a Happy Eyeballs algorithm).\nIn these cases, limiting the type and/or proto can help eliminate\nunsuccessful or unusable connection attempts. Some systems will, however, only return a single address.\n(For example, this was reported on Solaris and AIX configurations.)\nOn these systems, limiting the type and/or proto helps ensure that\nthis address is usable. Raises an auditing event socket.getaddrinfo with arguments host , port , family , type , protocol . The following example fetches address information for a hypothetical TCP\nconnection to example.org on port 80 (results may differ on your\nsystem if IPv6 isn\u00e2\u0080\u0099t enabled): >>> socket . getaddrinfo ( \"example.org\" , 80 , proto = socket . IPPROTO_TCP ) [(socket.AF_INET6, socket.SOCK_STREAM, 6, '', ('2606:2800:220:1:248:1893:25c8:1946', 80, 0, 0)), (socket.AF_INET, socket.SOCK_STREAM, 6, '', ('93.184.216.34', 80))] Changed in version 3.2: parameters can now be passed using keyword arguments. Changed in version 3.7: for IPv6 multicast addresses, string representing an address will not\ncontain %scope_id part. socket. getfqdn ( [ name ] ) \u00c2\u00b6 Return a fully qualified domain name for name . If name is omitted or empty,\nit is interpreted as the local host.  To find the fully qualified name, the\nhostname returned by gethostbyaddr() is checked, followed by aliases for the\nhost, if available.  The first name which includes a period is selected.  In\ncase no fully qualified domain name is available and name was provided,\nit is returned unchanged.  If name was empty or equal to '0.0.0.0' ,\nthe hostname from gethostname() is returned. socket. gethostbyname ( hostname ) \u00c2\u00b6 Translate a host name to IPv4 address format.  The IPv4 address is returned as a\nstring, such as '100.50.200.5' .  If the host name is an IPv4 address itself\nit is returned unchanged.  See gethostbyname_ex() for a more complete\ninterface. gethostbyname() does not support IPv6 name resolution, and getaddrinfo() should be used instead for IPv4/v6 dual stack support. Raises an auditing event socket.gethostbyname with argument hostname . Availability : not WASI. socket. gethostbyname_ex ( hostname ) \u00c2\u00b6 Translate a host name to IPv4 address format, extended interface. Return a\n3-tuple (hostname, aliaslist, ipaddrlist) where hostname is the host\u00e2\u0080\u0099s\nprimary host name, aliaslist is a (possibly\nempty) list of alternative host names for the same address, and ipaddrlist is\na list of IPv4 addresses for the same interface on the same host (often but not\nalways a single address). gethostbyname_ex() does not support IPv6 name\nresolution, and getaddrinfo() should be used instead for IPv4/v6 dual\nstack support. Raises an auditing event socket.gethostbyname with argument hostname . Availability : not WASI. socket. gethostname ( ) \u00c2\u00b6 Return a string containing the hostname of the machine where  the Python\ninterpreter is currently executing. Raises an auditing event socket.gethostname with no arguments. Note: gethostname() doesn\u00e2\u0080\u0099t always return the fully qualified domain\nname; use getfqdn() for that. Availability : not WASI. socket. gethostbyaddr ( ip_address ) \u00c2\u00b6 Return a 3-tuple (hostname, aliaslist, ipaddrlist) where hostname is the\nprimary host name responding to the given ip_address , aliaslist is a\n(possibly empty) list of alternative host names for the same address, and ipaddrlist is a list of IPv4/v6 addresses for the same interface on the same\nhost (most likely containing only a single address). To find the fully qualified\ndomain name, use the function getfqdn() . gethostbyaddr() supports\nboth IPv4 and IPv6. Raises an auditing event socket.gethostbyaddr with argument ip_address . Availability : not WASI. socket. getnameinfo ( sockaddr , flags ) \u00c2\u00b6 Translate a socket address sockaddr into a 2-tuple (host, port) . Depending\non the settings of flags , the result can contain a fully qualified domain name\nor numeric address representation in host .  Similarly, port can contain a\nstring port name or a numeric port number. For IPv6 addresses, %scope_id is appended to the host part if sockaddr contains meaningful scope_id . Usually this happens for multicast addresses. For more information about flags you can consult getnameinfo(3) . Raises an auditing event socket.getnameinfo with argument sockaddr . Availability : not WASI. socket. getprotobyname ( protocolname ) \u00c2\u00b6 Translate an internet protocol name (for example, 'icmp' ) to a constant\nsuitable for passing as the (optional) third argument to the socket() function.  This is usually only needed for sockets opened in \u00e2\u0080\u009craw\u00e2\u0080\u009d mode\n( SOCK_RAW ); for the normal socket modes, the correct protocol is chosen\nautomatically if the protocol is omitted or zero. Availability : not WASI. socket. getservbyname ( servicename [ , protocolname ] ) \u00c2\u00b6 Translate an internet service name and protocol name to a port number for that\nservice.  The optional protocol name, if given, should be 'tcp' or 'udp' , otherwise any protocol will match. Raises an auditing event socket.getservbyname with arguments servicename , protocolname . Availability : not WASI. socket. getservbyport ( port [ , protocolname ] ) \u00c2\u00b6 Translate an internet port number and protocol name to a service name for that\nservice.  The optional protocol name, if given, should be 'tcp' or 'udp' , otherwise any protocol will match. Raises an auditing event socket.getservbyport with arguments port , protocolname . Availability : not WASI. socket. ntohl ( x ) \u00c2\u00b6 Convert 32-bit positive integers from network to host byte order.  On machines\nwhere the host byte order is the same as network byte order, this is a no-op;\notherwise, it performs a 4-byte swap operation. socket. ntohs ( x ) \u00c2\u00b6 Convert 16-bit positive integers from network to host byte order.  On machines\nwhere the host byte order is the same as network byte order, this is a no-op;\notherwise, it performs a 2-byte swap operation. Changed in version 3.10: Raises OverflowError if x does not fit in a 16-bit unsigned\ninteger. socket. htonl ( x ) \u00c2\u00b6 Convert 32-bit positive integers from host to network byte order.  On machines\nwhere the host byte order is the same as network byte order, this is a no-op;\notherwise, it performs a 4-byte swap operation. socket. htons ( x ) \u00c2\u00b6 Convert 16-bit positive integers from host to network byte order.  On machines\nwhere the host byte order is the same as network byte order, this is a no-op;\notherwise, it performs a 2-byte swap operation. Changed in version 3.10: Raises OverflowError if x does not fit in a 16-bit unsigned\ninteger. socket. inet_aton ( ip_string ) \u00c2\u00b6 Convert an IPv4 address from dotted-quad string format (for example,\n\u00e2\u0080\u0098123.45.67.89\u00e2\u0080\u0099) to 32-bit packed binary format, as a bytes object four characters in\nlength.  This is useful when conversing with a program that uses the standard C\nlibrary and needs objects of type in_addr , which is the C type\nfor the 32-bit packed binary this function returns. inet_aton() also accepts strings with less than three dots; see the\nUnix manual page inet(3) for details. If the IPv4 address string passed to this function is invalid, OSError will be raised. Note that exactly what is valid depends on\nthe underlying C implementation of inet_aton() . inet_aton() does not support IPv6, and inet_pton() should be used\ninstead for IPv4/v6 dual stack support. socket. inet_ntoa ( packed_ip ) \u00c2\u00b6 Convert a 32-bit packed IPv4 address (a bytes-like object four\nbytes in length) to its standard dotted-quad string representation (for example,\n\u00e2\u0080\u0098123.45.67.89\u00e2\u0080\u0099).  This is useful when conversing with a program that uses the\nstandard C library and needs objects of type in_addr , which\nis the C type for the 32-bit packed binary data this function takes as an\nargument. If the byte sequence passed to this function is not exactly 4 bytes in\nlength, OSError will be raised. inet_ntoa() does not\nsupport IPv6, and inet_ntop() should be used instead for IPv4/v6 dual\nstack support. Changed in version 3.5: Writable bytes-like object is now accepted. socket. inet_pton ( address_family , ip_string ) \u00c2\u00b6 Convert an IP address from its family-specific string format to a packed,\nbinary format. inet_pton() is useful when a library or network protocol\ncalls for an object of type in_addr (similar to inet_aton() ) or in6_addr . Supported values for address_family are currently AF_INET and AF_INET6 . If the IP address string ip_string is invalid, OSError will be raised. Note that exactly what is valid depends on\nboth the value of address_family and the underlying implementation of inet_pton() . Availability : Unix, Windows. Changed in version 3.4: Windows support added socket. inet_ntop ( address_family , packed_ip ) \u00c2\u00b6 Convert a packed IP address (a bytes-like object of some number of\nbytes) to its standard, family-specific string representation (for\nexample, '7.10.0.5' or '5aef:2b::8' ). inet_ntop() is useful when a library or network protocol returns an\nobject of type in_addr (similar to inet_ntoa() ) or in6_addr . Supported values for address_family are currently AF_INET and AF_INET6 . If the bytes object packed_ip is not the correct\nlength for the specified address family, ValueError will be raised. OSError is raised for errors from the call to inet_ntop() . Availability : Unix, Windows. Changed in version 3.4: Windows support added Changed in version 3.5: Writable bytes-like object is now accepted. socket. CMSG_LEN ( length ) \u00c2\u00b6 Return the total length, without trailing padding, of an ancillary\ndata item with associated data of the given length .  This value\ncan often be used as the buffer size for recvmsg() to\nreceive a single item of ancillary data, but RFC 3542 requires\nportable applications to use CMSG_SPACE() and thus include\nspace for padding, even when the item will be the last in the\nbuffer.  Raises OverflowError if length is outside the\npermissible range of values. Availability : Unix, not WASI. Most Unix platforms. Added in version 3.3. socket. CMSG_SPACE ( length ) \u00c2\u00b6 Return the buffer size needed for recvmsg() to\nreceive an ancillary data item with associated data of the given length , along with any trailing padding.  The buffer space needed\nto receive multiple items is the sum of the CMSG_SPACE() values for their associated data lengths.  Raises OverflowError if length is outside the permissible range\nof values. Note that some systems might support ancillary data without\nproviding this function.  Also note that setting the buffer size\nusing the results of this function may not precisely limit the\namount of ancillary data that can be received, since additional\ndata may be able to fit into the padding area. Availability : Unix, not WASI. most Unix platforms. Added in version 3.3. socket. getdefaulttimeout ( ) \u00c2\u00b6 Return the default timeout in seconds (float) for new socket objects. A value\nof None indicates that new socket objects have no timeout. When the socket\nmodule is first imported, the default is None . socket. setdefaulttimeout ( timeout ) \u00c2\u00b6 Set the default timeout in seconds (float) for new socket objects.  When\nthe socket module is first imported, the default is None .  See settimeout() for possible values and their respective\nmeanings. socket. sethostname ( name ) \u00c2\u00b6 Set the machine\u00e2\u0080\u0099s hostname to name .  This will raise an OSError if you don\u00e2\u0080\u0099t have enough rights. Raises an auditing event socket.sethostname with argument name . Availability : Unix, not Android. Added in version 3.3. socket. if_nameindex ( ) \u00c2\u00b6 Return a list of network interface information\n(index int, name string) tuples. OSError if the system call fails. Availability : Unix, Windows, not WASI. Added in version 3.3. Changed in version 3.8: Windows support was added. Note On Windows network interfaces have different names in different contexts\n(all names are examples): UUID: {FB605B73-AAC2-49A6-9A2F-25416AEA0573} name: ethernet_32770 friendly name: vEthernet (nat) description: Hyper-V Virtual Ethernet Adapter This function returns names of the second form from the list, ethernet_32770 in this example case. socket. if_nametoindex ( if_name ) \u00c2\u00b6 Return a network interface index number corresponding to an\ninterface name. OSError if no interface with the given name exists. Availability : Unix, Windows, not WASI. Added in version 3.3. Changed in version 3.8: Windows support was added. See also \u00e2\u0080\u009cInterface name\u00e2\u0080\u009d is a name as documented in if_nameindex() . socket. if_indextoname ( if_index ) \u00c2\u00b6 Return a network interface name corresponding to an\ninterface index number. OSError if no interface with the given index exists. Availability : Unix, Windows, not WASI. Added in version 3.3. Changed in version 3.8: Windows support was added. See also \u00e2\u0080\u009cInterface name\u00e2\u0080\u009d is a name as documented in if_nameindex() . socket. send_fds ( sock , buffers , fds [ , flags [ , address ] ] ) \u00c2\u00b6 Send the list of file descriptors fds over an AF_UNIX socket sock .\nThe fds parameter is a sequence of file descriptors.\nConsult sendmsg() for the documentation of these parameters. Availability : Unix, not WASI. Unix platforms supporting sendmsg() and SCM_RIGHTS mechanism. Added in version 3.9. socket. recv_fds ( sock , bufsize , maxfds [ , flags ] ) \u00c2\u00b6 Receive up to maxfds file descriptors from an AF_UNIX socket sock .\nReturn (msg, list(fds), flags, addr) .\nConsult recvmsg() for the documentation of these parameters. Availability : Unix, not WASI. Unix platforms supporting recvmsg() and SCM_RIGHTS mechanism. Added in version 3.9. Note Any truncated integers at the end of the list of file descriptors. Socket Objects \u00c2\u00b6 Socket objects have the following methods.  Except for makefile() , these correspond to Unix system calls applicable\nto sockets. Changed in version 3.2: Support for the context manager protocol was added.  Exiting the\ncontext manager is equivalent to calling close() . socket. accept ( ) \u00c2\u00b6 Accept a connection. The socket must be bound to an address and listening for\nconnections. The return value is a pair (conn, address) where conn is a new socket object usable to send and receive data on the connection, and address is the address bound to the socket on the other end of the connection. The newly created socket is non-inheritable . Changed in version 3.4: The socket is now non-inheritable. Changed in version 3.5: If the system call is interrupted and the signal handler does not raise\nan exception, the method now retries the system call instead of raising\nan InterruptedError exception (see PEP 475 for the rationale). socket. bind ( address ) \u00c2\u00b6 Bind the socket to address .  The socket must not already be bound. (The format\nof address depends on the address family \u00e2\u0080\u0094 see above.) Raises an auditing event socket.bind with arguments self , address . Availability : not WASI. socket. close ( ) \u00c2\u00b6 Mark the socket closed.  The underlying system resource (e.g. a file\ndescriptor) is also closed when all file objects from makefile() are closed.  Once that happens, all future operations on the socket\nobject will fail. The remote end will receive no more data (after\nqueued data is flushed). Sockets are automatically closed when they are garbage-collected, but\nit is recommended to close() them explicitly, or to use a with statement around them. Changed in version 3.6: OSError is now raised if an error occurs when the underlying close() call is made. Note close() releases the resource associated with a connection but\ndoes not necessarily close the connection immediately.  If you want\nto close the connection in a timely fashion, call shutdown() before close() . socket. connect ( address ) \u00c2\u00b6 Connect to a remote socket at address . (The format of address depends on the\naddress family \u00e2\u0080\u0094 see above.) If the connection is interrupted by a signal, the method waits until the\nconnection completes, or raise a TimeoutError on timeout, if the\nsignal handler doesn\u00e2\u0080\u0099t raise an exception and the socket is blocking or has\na timeout. For non-blocking sockets, the method raises an InterruptedError exception if the connection is interrupted by a\nsignal (or the exception raised by the signal handler). Raises an auditing event socket.connect with arguments self , address . Changed in version 3.5: The method now waits until the connection completes instead of raising an InterruptedError exception if the connection is interrupted by a\nsignal, the signal handler doesn\u00e2\u0080\u0099t raise an exception and the socket is\nblocking or has a timeout (see the PEP 475 for the rationale). Availability : not WASI. socket. connect_ex ( address ) \u00c2\u00b6 Like connect(address) , but return an error indicator instead of raising an\nexception for errors returned by the C-level connect() call (other\nproblems, such as \u00e2\u0080\u009chost not found,\u00e2\u0080\u009d can still raise exceptions).  The error\nindicator is 0 if the operation succeeded, otherwise the value of the errno variable.  This is useful to support, for example, asynchronous\nconnects. Raises an auditing event socket.connect with arguments self , address . Availability : not WASI. socket. detach ( ) \u00c2\u00b6 Put the socket object into closed state without actually closing the\nunderlying file descriptor.  The file descriptor is returned, and can\nbe reused for other purposes. Added in version 3.2. socket. dup ( ) \u00c2\u00b6 Duplicate the socket. The newly created socket is non-inheritable . Changed in version 3.4: The socket is now non-inheritable. Availability : not WASI. socket. fileno ( ) \u00c2\u00b6 Return the socket\u00e2\u0080\u0099s file descriptor (a small integer), or -1 on failure. This\nis useful with select.select() . Under Windows the small integer returned by this method cannot be used where a\nfile descriptor can be used (such as os.fdopen() ).  Unix does not have\nthis limitation. socket. get_inheritable ( ) \u00c2\u00b6 Get the inheritable flag of the socket\u00e2\u0080\u0099s file\ndescriptor or socket\u00e2\u0080\u0099s handle: True if the socket can be inherited in\nchild processes, False if it cannot. Added in version 3.4. socket. getpeername ( ) \u00c2\u00b6 Return the remote address to which the socket is connected.  This is useful to\nfind out the port number of a remote IPv4/v6 socket, for instance. (The format\nof the address returned depends on the address family \u00e2\u0080\u0094 see above.)  On some\nsystems this function is not supported. socket. getsockname ( ) \u00c2\u00b6 Return the socket\u00e2\u0080\u0099s own address.  This is useful to find out the port number of\nan IPv4/v6 socket, for instance. (The format of the address returned depends on\nthe address family \u00e2\u0080\u0094 see above.) socket. getsockopt ( level , optname [ , buflen ] ) \u00c2\u00b6 Return the value of the given socket option (see the Unix man page getsockopt(2) ).  The needed symbolic constants ( SO_* etc. )\nare defined in this module.  If buflen is absent, an integer option is assumed\nand its integer value is returned by the function.  If buflen is present, it\nspecifies the maximum length of the buffer used to receive the option in, and\nthis buffer is returned as a bytes object.  It is up to the caller to decode the\ncontents of the buffer (see the optional built-in module struct for a way\nto decode C structures encoded as byte strings). Availability : not WASI. socket. getblocking ( ) \u00c2\u00b6 Return True if socket is in blocking mode, False if in\nnon-blocking. This is equivalent to checking socket.gettimeout() != 0 . Added in version 3.7. socket. gettimeout ( ) \u00c2\u00b6 Return the timeout in seconds (float) associated with socket operations,\nor None if no timeout is set.  This reflects the last call to setblocking() or settimeout() . socket. ioctl ( control , option ) \u00c2\u00b6 Platform : Windows The ioctl() method is a limited interface to the WSAIoctl system\ninterface.  Please refer to the Win32 documentation for more\ninformation. On other platforms, the generic fcntl.fcntl() and fcntl.ioctl() functions may be used; they accept a socket object as their first argument. Currently only the following control codes are supported: SIO_RCVALL , SIO_KEEPALIVE_VALS , and SIO_LOOPBACK_FAST_PATH . Changed in version 3.6: SIO_LOOPBACK_FAST_PATH was added. socket. listen ( [ backlog ] ) \u00c2\u00b6 Enable a server to accept connections.  If backlog is specified, it must\nbe at least 0 (if it is lower, it is set to 0); it specifies the number of\nunaccepted connections that the system will allow before refusing new\nconnections. If not specified, a default reasonable value is chosen. Availability : not WASI. Changed in version 3.5: The backlog parameter is now optional. socket. makefile ( mode = 'r' , buffering = None , * , encoding = None , errors = None , newline = None ) \u00c2\u00b6 Return a file object associated with the socket.  The exact returned\ntype depends on the arguments given to makefile() .  These arguments are\ninterpreted the same way as by the built-in open() function, except\nthe only supported mode values are 'r' (default), 'w' , 'b' , or\na combination of those. The socket must be in blocking mode; it can have a timeout, but the file\nobject\u00e2\u0080\u0099s internal buffer may end up in an inconsistent state if a timeout\noccurs. Closing the file object returned by makefile() won\u00e2\u0080\u0099t close the\noriginal socket unless all other file objects have been closed and socket.close() has been called on the socket object. Note On Windows, the file-like object created by makefile() cannot be\nused where a file object with a file descriptor is expected, such as the\nstream arguments of subprocess.Popen() . socket. recv ( bufsize [ , flags ] ) \u00c2\u00b6 Receive data from the socket.  The return value is a bytes object representing the\ndata received.  The maximum amount of data to be received at once is specified\nby bufsize . A returned empty bytes object indicates that the client has disconnected.\nSee the Unix manual page recv(2) for the meaning of the optional argument flags ; it defaults to zero. Changed in version 3.5: If the system call is interrupted and the signal handler does not raise\nan exception, the method now retries the system call instead of raising\nan InterruptedError exception (see PEP 475 for the rationale). socket. recvfrom ( bufsize [ , flags ] ) \u00c2\u00b6 Receive data from the socket.  The return value is a pair (bytes, address) where bytes is a bytes object representing the data received and address is the\naddress of the socket sending the data.  See the Unix manual page recv(2) for the meaning of the optional argument flags ; it defaults\nto zero. (The format of address depends on the address family \u00e2\u0080\u0094 see above.) Changed in version 3.5: If the system call is interrupted and the signal handler does not raise\nan exception, the method now retries the system call instead of raising\nan InterruptedError exception (see PEP 475 for the rationale). Changed in version 3.7: For multicast IPv6 address, first item of address does not contain %scope_id part anymore. In order to get full IPv6 address use getnameinfo() . socket. recvmsg ( bufsize [ , ancbufsize [ , flags ] ] ) \u00c2\u00b6 Receive normal data (up to bufsize bytes) and ancillary data from\nthe socket.  The ancbufsize argument sets the size in bytes of\nthe internal buffer used to receive the ancillary data; it defaults\nto 0, meaning that no ancillary data will be received.  Appropriate\nbuffer sizes for ancillary data can be calculated using CMSG_SPACE() or CMSG_LEN() , and items which do not fit\ninto the buffer might be truncated or discarded.  The flags argument defaults to 0 and has the same meaning as for recv() . The return value is a 4-tuple: (data, ancdata, msg_flags, address) .  The data item is a bytes object holding the\nnon-ancillary data received.  The ancdata item is a list of zero\nor more tuples (cmsg_level, cmsg_type, cmsg_data) representing\nthe ancillary data (control messages) received: cmsg_level and cmsg_type are integers specifying the protocol level and\nprotocol-specific type respectively, and cmsg_data is a bytes object holding the associated data.  The msg_flags item is the bitwise OR of various flags indicating conditions on\nthe received message; see your system documentation for details.\nIf the receiving socket is unconnected, address is the address of\nthe sending socket, if available; otherwise, its value is\nunspecified. On some systems, sendmsg() and recvmsg() can be used to\npass file descriptors between processes over an AF_UNIX socket.  When this facility is used (it is often restricted to SOCK_STREAM sockets), recvmsg() will return, in its\nancillary data, items of the form (socket.SOL_SOCKET, socket.SCM_RIGHTS, fds) , where fds is a bytes object\nrepresenting the new file descriptors as a binary array of the\nnative C int type.  If recvmsg() raises an\nexception after the system call returns, it will first attempt to\nclose any file descriptors received via this mechanism. Some systems do not indicate the truncated length of ancillary data\nitems which have been only partially received.  If an item appears\nto extend beyond the end of the buffer, recvmsg() will issue\na RuntimeWarning , and will return the part of it which is\ninside the buffer provided it has not been truncated before the\nstart of its associated data. On systems which support the SCM_RIGHTS mechanism, the\nfollowing function will receive up to maxfds file descriptors,\nreturning the message data and a list containing the descriptors\n(while ignoring unexpected conditions such as unrelated control\nmessages being received).  See also sendmsg() . import socket , array def recv_fds ( sock , msglen , maxfds ): fds = array . array ( \"i\" ) # Array of ints msg , ancdata , flags , addr = sock . recvmsg ( msglen , socket . CMSG_LEN ( maxfds * fds . itemsize )) for cmsg_level , cmsg_type , cmsg_data in ancdata : if cmsg_level == socket . SOL_SOCKET and cmsg_type == socket . SCM_RIGHTS : # Append data, ignoring any truncated integers at the end. fds . frombytes ( cmsg_data [: len ( cmsg_data ) - ( len ( cmsg_data ) % fds . itemsize )]) return msg , list ( fds ) Availability : Unix. Most Unix platforms. Added in version 3.3. Changed in version 3.5: If the system call is interrupted and the signal handler does not raise\nan exception, the method now retries the system call instead of raising\nan InterruptedError exception (see PEP 475 for the rationale). socket. recvmsg_into ( buffers [ , ancbufsize [ , flags ] ] ) \u00c2\u00b6 Receive normal data and ancillary data from the socket, behaving as recvmsg() would, but scatter the non-ancillary data into a\nseries of buffers instead of returning a new bytes object.  The buffers argument must be an iterable of objects that export\nwritable buffers (e.g. bytearray objects); these will be\nfilled with successive chunks of the non-ancillary data until it\nhas all been written or there are no more buffers.  The operating\nsystem may set a limit ( sysconf() value SC_IOV_MAX )\non the number of buffers that can be used.  The ancbufsize and flags arguments have the same meaning as for recvmsg() . The return value is a 4-tuple: (nbytes, ancdata, msg_flags, address) , where nbytes is the total number of bytes of\nnon-ancillary data written into the buffers, and ancdata , msg_flags and address are the same as for recvmsg() . Example: >>> import socket >>> s1 , s2 = socket . socketpair () >>> b1 = bytearray ( b '----' ) >>> b2 = bytearray ( b '0123456789' ) >>> b3 = bytearray ( b '--------------' ) >>> s1 . send ( b 'Mary had a little lamb' ) 22 >>> s2 . recvmsg_into ([ b1 , memoryview ( b2 )[ 2 : 9 ], b3 ]) (22, [], 0, None) >>> [ b1 , b2 , b3 ] [bytearray(b'Mary'), bytearray(b'01 had a 9'), bytearray(b'little lamb---')] Availability : Unix. Most Unix platforms. Added in version 3.3. socket. recvfrom_into ( buffer [ , nbytes [ , flags ] ] ) \u00c2\u00b6 Receive data from the socket, writing it into buffer instead of creating a\nnew bytestring.  The return value is a pair (nbytes, address) where nbytes is\nthe number of bytes received and address is the address of the socket sending\nthe data.  See the Unix manual page recv(2) for the meaning of the\noptional argument flags ; it defaults to zero.  (The format of address depends on the address family \u00e2\u0080\u0094 see above.) socket. recv_into ( buffer [ , nbytes [ , flags ] ] ) \u00c2\u00b6 Receive up to nbytes bytes from the socket, storing the data into a buffer\nrather than creating a new bytestring.  If nbytes is not specified (or 0),\nreceive up to the size available in the given buffer.  Returns the number of\nbytes received.  See the Unix manual page recv(2) for the meaning\nof the optional argument flags ; it defaults to zero. socket. send ( bytes [ , flags ] ) \u00c2\u00b6 Send data to the socket.  The socket must be connected to a remote socket.  The\noptional flags argument has the same meaning as for recv() above.\nReturns the number of bytes sent. Applications are responsible for checking that\nall data has been sent; if only some of the data was transmitted, the\napplication needs to attempt delivery of the remaining data. For further\ninformation on this topic, consult the Socket Programming HOWTO . Changed in version 3.5: If the system call is interrupted and the signal handler does not raise\nan exception, the method now retries the system call instead of raising\nan InterruptedError exception (see PEP 475 for the rationale). socket. sendall ( bytes [ , flags ] ) \u00c2\u00b6 Send data to the socket.  The socket must be connected to a remote socket.  The\noptional flags argument has the same meaning as for recv() above.\nUnlike send() , this method continues to send data from bytes until\neither all data has been sent or an error occurs. None is returned on\nsuccess.  On error, an exception is raised, and there is no way to determine how\nmuch data, if any, was successfully sent. Changed in version 3.5: The socket timeout is no longer reset each time data is sent successfully.\nThe socket timeout is now the maximum total duration to send all data. Changed in version 3.5: If the system call is interrupted and the signal handler does not raise\nan exception, the method now retries the system call instead of raising\nan InterruptedError exception (see PEP 475 for the rationale). socket. sendto ( bytes , address ) \u00c2\u00b6 socket. sendto ( bytes , flags , address ) Send data to the socket.  The socket should not be connected to a remote socket,\nsince the destination socket is specified by address .  The optional flags argument has the same meaning as for recv() above.  Return the number of\nbytes sent. (The format of address depends on the address family \u00e2\u0080\u0094 see\nabove.) Raises an auditing event socket.sendto with arguments self , address . Changed in version 3.5: If the system call is interrupted and the signal handler does not raise\nan exception, the method now retries the system call instead of raising\nan InterruptedError exception (see PEP 475 for the rationale). socket. sendmsg ( buffers [ , ancdata [ , flags [ , address ] ] ] ) \u00c2\u00b6 Send normal and ancillary data to the socket, gathering the\nnon-ancillary data from a series of buffers and concatenating it\ninto a single message.  The buffers argument specifies the\nnon-ancillary data as an iterable of bytes-like objects (e.g. bytes objects); the operating system may set a limit\n( sysconf() value SC_IOV_MAX ) on the number of buffers\nthat can be used.  The ancdata argument specifies the ancillary\ndata (control messages) as an iterable of zero or more tuples (cmsg_level, cmsg_type, cmsg_data) , where cmsg_level and cmsg_type are integers specifying the protocol level and\nprotocol-specific type respectively, and cmsg_data is a\nbytes-like object holding the associated data.  Note that\nsome systems (in particular, systems without CMSG_SPACE() )\nmight support sending only one control message per call.  The flags argument defaults to 0 and has the same meaning as for send() .  If address is supplied and not None , it sets a\ndestination address for the message.  The return value is the\nnumber of bytes of non-ancillary data sent. The following function sends the list of file descriptors fds over an AF_UNIX socket, on systems which support the SCM_RIGHTS mechanism.  See also recvmsg() . import socket , array def send_fds ( sock , msg , fds ): return sock . sendmsg ([ msg ], [( socket . SOL_SOCKET , socket . SCM_RIGHTS , array . array ( \"i\" , fds ))]) Availability : Unix, not WASI. Most Unix platforms. Raises an auditing event socket.sendmsg with arguments self , address . Added in version 3.3. Changed in version 3.5: If the system call is interrupted and the signal handler does not raise\nan exception, the method now retries the system call instead of raising\nan InterruptedError exception (see PEP 475 for the rationale). socket. sendmsg_afalg ( [ msg , ] * , op [ , iv [ , assoclen [ , flags ] ] ] ) \u00c2\u00b6 Specialized version of sendmsg() for AF_ALG socket.\nSet mode, IV, AEAD associated data length and flags for AF_ALG socket. Availability : Linux >= 2.6.38. Added in version 3.6. socket. sendfile ( file , offset = 0 , count = None ) \u00c2\u00b6 Send a file until EOF is reached by using high-performance os.sendfile and return the total number of bytes which were sent. file must be a regular file object opened in binary mode. If os.sendfile is not available (e.g. Windows) or file is not a\nregular file send() will be used instead. offset tells from where to\nstart reading the file. If specified, count is the total number of bytes\nto transmit as opposed to sending the file until EOF is reached. File\nposition is updated on return or also in case of error in which case file.tell() can be used to figure out the number of\nbytes which were sent. The socket must be of SOCK_STREAM type.\nNon-blocking sockets are not supported. Added in version 3.5. socket. set_inheritable ( inheritable ) \u00c2\u00b6 Set the inheritable flag of the socket\u00e2\u0080\u0099s file\ndescriptor or socket\u00e2\u0080\u0099s handle. Added in version 3.4. socket. setblocking ( flag ) \u00c2\u00b6 Set blocking or non-blocking mode of the socket: if flag is false, the\nsocket is set to non-blocking, else to blocking mode. This method is a shorthand for certain settimeout() calls: sock.setblocking(True) is equivalent to sock.settimeout(None) sock.setblocking(False) is equivalent to sock.settimeout(0.0) Changed in version 3.7: The method no longer applies SOCK_NONBLOCK flag on socket.type . socket. settimeout ( value ) \u00c2\u00b6 Set a timeout on blocking socket operations.  The value argument can be a\nnonnegative floating-point number expressing seconds, or None .\nIf a non-zero value is given, subsequent socket operations will raise a timeout exception if the timeout period value has elapsed before\nthe operation has completed.  If zero is given, the socket is put in\nnon-blocking mode. If None is given, the socket is put in blocking mode. For further information, please consult the notes on socket timeouts . Changed in version 3.7: The method no longer toggles SOCK_NONBLOCK flag on socket.type . socket. setsockopt ( level , optname , value : int ) \u00c2\u00b6 socket. setsockopt ( level , optname , value : buffer ) socket. setsockopt ( level , optname , None , optlen: int ) Set the value of the given socket option (see the Unix manual page setsockopt(2) ).  The needed symbolic constants are defined in this\nmodule ( SO_* etc. <socket-unix-constants> ).  The value can be an integer, None or a bytes-like object representing a buffer. In the later\ncase it is up to the caller to ensure that the bytestring contains the\nproper bits (see the optional built-in module struct for a way to\nencode C structures as bytestrings). When value is set to None , optlen argument is required. It\u00e2\u0080\u0099s equivalent to call setsockopt() C\nfunction with optval=NULL and optlen=optlen . Changed in version 3.5: Writable bytes-like object is now accepted. Changed in version 3.6: setsockopt(level, optname, None, optlen: int) form added. Availability : not WASI. socket. shutdown ( how ) \u00c2\u00b6 Shut down one or both halves of the connection.  If how is SHUT_RD ,\nfurther receives are disallowed.  If how is SHUT_WR , further sends\nare disallowed.  If how is SHUT_RDWR , further sends and receives are\ndisallowed. Availability : not WASI. socket. share ( process_id ) \u00c2\u00b6 Duplicate a socket and prepare it for sharing with a target process.  The\ntarget process must be provided with process_id .  The resulting bytes object\ncan then be passed to the target process using some form of interprocess\ncommunication and the socket can be recreated there using fromshare() .\nOnce this method has been called, it is safe to close the socket since\nthe operating system has already duplicated it for the target process. Availability : Windows. Added in version 3.3. Note that there are no methods read() or write() ; use recv() and send() without flags argument instead. Socket objects also have these (read-only) attributes that correspond to the\nvalues given to the socket constructor. socket. family \u00c2\u00b6 The socket family. socket. type \u00c2\u00b6 The socket type. socket. proto \u00c2\u00b6 The socket protocol. Notes on socket timeouts \u00c2\u00b6 A socket object can be in one of three modes: blocking, non-blocking, or\ntimeout.  Sockets are by default always created in blocking mode, but this\ncan be changed by calling setdefaulttimeout() . In blocking mode , operations block until complete or the system returns\nan error (such as connection timed out). In non-blocking mode , operations fail (with an error that is unfortunately\nsystem-dependent) if they cannot be completed immediately: functions from the select module can be used to know when and whether a socket is available\nfor reading or writing. In timeout mode , operations fail if they cannot be completed within the\ntimeout specified for the socket (they raise a timeout exception)\nor if the system returns an error. Note At the operating system level, sockets in timeout mode are internally set\nin non-blocking mode.  Also, the blocking and timeout modes are shared between\nfile descriptors and socket objects that refer to the same network endpoint.\nThis implementation detail can have visible consequences if e.g. you decide\nto use the fileno() of a socket. Timeouts and the connect method \u00c2\u00b6 The connect() operation is also subject to the timeout\nsetting, and in general it is recommended to call settimeout() before calling connect() or pass a timeout parameter to create_connection() .  However, the system network stack may also\nreturn a connection timeout error of its own regardless of any Python socket\ntimeout setting. Timeouts and the accept method \u00c2\u00b6 If getdefaulttimeout() is not None , sockets returned by\nthe accept() method inherit that timeout.  Otherwise, the\nbehaviour depends on settings of the listening socket: if the listening socket is in blocking mode or in timeout mode ,\nthe socket returned by accept() is in blocking mode ; if the listening socket is in non-blocking mode , whether the socket\nreturned by accept() is in blocking or non-blocking mode\nis operating system-dependent.  If you want to ensure cross-platform\nbehaviour, it is recommended you manually override this setting. Example \u00c2\u00b6 Here are four minimal example programs using the TCP/IP protocol: a server that\nechoes all data that it receives back (servicing only one client), and a client\nusing it.  Note that a server must perform the sequence socket() , bind() , listen() , accept() (possibly\nrepeating the accept() to service more than one client), while a\nclient only needs the sequence socket() , connect() .  Also\nnote that the server does not sendall() / recv() on\nthe socket it is listening on but on the new socket returned by accept() . The first two examples support IPv4 only. # Echo server program import socket HOST = '' # Symbolic name meaning all available interfaces PORT = 50007 # Arbitrary non-privileged port with socket . socket ( socket . AF_INET , socket . SOCK_STREAM ) as s : s . bind (( HOST , PORT )) s . listen ( 1 ) conn , addr = s . accept () with conn : print ( 'Connected by' , addr ) while True : data = conn . recv ( 1024 ) if not data : break conn . sendall ( data ) # Echo client program import socket HOST = 'daring.cwi.nl' # The remote host PORT = 50007 # The same port as used by the server with socket . socket ( socket . AF_INET , socket . SOCK_STREAM ) as s : s . connect (( HOST , PORT )) s . sendall ( b 'Hello, world' ) data = s . recv ( 1024 ) print ( 'Received' , repr ( data )) The next two examples are identical to the above two, but support both IPv4 and\nIPv6. The server side will listen to the first address family available (it\nshould listen to both instead). On most of IPv6-ready systems, IPv6 will take\nprecedence and the server may not accept IPv4 traffic. The client side will try\nto connect to all the addresses returned as a result of the name resolution, and\nsends traffic to the first one connected successfully. # Echo server program import socket import sys HOST = None # Symbolic name meaning all available interfaces PORT = 50007 # Arbitrary non-privileged port s = None for res in socket . getaddrinfo ( HOST , PORT , socket . AF_UNSPEC , socket . SOCK_STREAM , 0 , socket . AI_PASSIVE ): af , socktype , proto , canonname , sa = res try : s = socket . socket ( af , socktype , proto ) except OSError as msg : s = None continue try : s . bind ( sa ) s . listen ( 1 ) except OSError as msg : s . close () s = None continue break if s is None : print ( 'could not open socket' ) sys . exit ( 1 ) conn , addr = s . accept () with conn : print ( 'Connected by' , addr ) while True : data = conn . recv ( 1024 ) if not data : break conn . send ( data ) # Echo client program import socket import sys HOST = 'daring.cwi.nl' # The remote host PORT = 50007 # The same port as used by the server s = None for res in socket . getaddrinfo ( HOST , PORT , socket . AF_UNSPEC , socket . SOCK_STREAM ): af , socktype , proto , canonname , sa = res try : s = socket . socket ( af , socktype , proto ) except OSError as msg : s = None continue try : s . connect ( sa ) except OSError as msg : s . close () s = None continue break if s is None : print ( 'could not open socket' ) sys . exit ( 1 ) with s : s . sendall ( b 'Hello, world' ) data = s . recv ( 1024 ) print ( 'Received' , repr ( data )) The next example shows how to write a very simple network sniffer with raw\nsockets on Windows. The example requires administrator privileges to modify\nthe interface: import socket # the public network interface HOST = socket . gethostbyname ( socket . gethostname ()) # create a raw socket and bind it to the public interface s = socket . socket ( socket . AF_INET , socket . SOCK_RAW , socket . IPPROTO_IP ) s . bind (( HOST , 0 )) # Include IP headers s . setsockopt ( socket . IPPROTO_IP , socket . IP_HDRINCL , 1 ) # receive all packets s . ioctl ( socket . SIO_RCVALL , socket . RCVALL_ON ) # receive a packet print ( s . recvfrom ( 65565 )) # disabled promiscuous mode s . ioctl ( socket . SIO_RCVALL , socket . RCVALL_OFF ) The next example shows how to use the socket interface to communicate to a CAN\nnetwork using the raw socket protocol. To use CAN with the broadcast\nmanager protocol instead, open a socket with: socket . socket ( socket . AF_CAN , socket . SOCK_DGRAM , socket . CAN_BCM ) After binding ( CAN_RAW ) or connecting ( CAN_BCM ) the socket, you\ncan use the socket.send() and socket.recv() operations (and\ntheir counterparts) on the socket object as usual. This last example might require special privileges: import socket import struct # CAN frame packing/unpacking (see 'struct can_frame' in <linux/can.h>) can_frame_fmt = \"=IB3x8s\" can_frame_size = struct . calcsize ( can_frame_fmt ) def build_can_frame ( can_id , data ): can_dlc = len ( data ) data = data . ljust ( 8 , b ' \\x00 ' ) return struct . pack ( can_frame_fmt , can_id , can_dlc , data ) def dissect_can_frame ( frame ): can_id , can_dlc , data = struct . unpack ( can_frame_fmt , frame ) return ( can_id , can_dlc , data [: can_dlc ]) # create a raw socket and bind it to the 'vcan0' interface s = socket . socket ( socket . AF_CAN , socket . SOCK_RAW , socket . CAN_RAW ) s . bind (( 'vcan0' ,)) while True : cf , addr = s . recvfrom ( can_frame_size ) print ( 'Received: can_id= %x , can_dlc= %x , data= %s ' % dissect_can_frame ( cf )) try : s . send ( cf ) except OSError : print ( 'Error sending CAN frame' ) try : s . send ( build_can_frame ( 0x01 , b ' \\x01\\x02\\x03 ' )) except OSError : print ( 'Error sending CAN frame' ) Running an example several times with too small delay between executions, could\nlead to this error: OSError : [ Errno 98 ] Address already in use This is because the previous execution has left the socket in a TIME_WAIT state, and can\u00e2\u0080\u0099t be immediately reused. There is a socket flag to set, in order to prevent this, socket.SO_REUSEADDR : s = socket . socket ( socket . AF_INET , socket . SOCK_STREAM ) s . setsockopt ( socket . SOL_SOCKET , socket . SO_REUSEADDR , 1 ) s . bind (( HOST , PORT )) the SO_REUSEADDR flag tells the kernel to reuse a local socket in TIME_WAIT state, without waiting for its natural timeout to expire. See also For an introduction to socket programming (in C), see the following papers: An Introductory 4.3BSD Interprocess Communication Tutorial , by Stuart Sechrest An Advanced 4.3BSD Interprocess Communication Tutorial , by Samuel J.  Leffler et\nal, both in the UNIX Programmer\u00e2\u0080\u0099s Manual, Supplementary Documents 1 (sections\nPS1:7 and PS1:8).  The platform-specific reference material for the various\nsocket-related system calls are also a valuable source of information on the\ndetails of socket semantics.  For Unix, refer to the manual pages; for Windows,\nsee the WinSock (or Winsock 2) specification.  For IPv6-ready APIs, readers may\nwant to refer to RFC 3493 titled Basic Socket Interface Extensions for IPv6. Table of Contents socket \u00e2\u0080\u0094 Low-level networking interface Socket families Module contents Exceptions Constants Functions Creating sockets Other functions Socket Objects Notes on socket timeouts Timeouts and the connect method Timeouts and the accept method Example Previous topic Developing with asyncio Next topic ssl \u00e2\u0080\u0094 TLS/SSL wrapper for socket objects This page Report a bug Show source \u00c2\u00ab Navigation index modules | next | previous | Python \u00bb 3.13.7 Documentation \u00bb The Python Standard Library \u00bb Networking and Interprocess Communication \u00bb socket \u00e2\u0080\u0094 Low-level networking interface | Theme Auto Light Dark | \u00a9 Copyright 2001-2025, Python Software Foundation. This page is licensed under the Python Software Foundation License Version 2. Examples, recipes, and other code in the documentation are additionally licensed under the Zero Clause BSD License. See History and License for more information. The Python Software Foundation is a non-profit corporation. Please donate. Last updated on Sep 02, 2025 (06:52 UTC). Found a bug ? Created using Sphinx 8.2.3.",
    "The WebSocket API (WebSockets) Note: This feature is available in Web Workers . The WebSocket API makes it possible to open a two-way interactive communication session between the user's browser and a server. With this API, you can send messages to a server and receive responses without having to poll the server for a reply. The WebSocket API provides two alternative mechanisms for creating and using web socket connections: the WebSocket interface and the WebSocketStream interface. The WebSocket interface is stable and has good browser and server support. However it doesn't support backpressure . As a result, when messages arrive faster than the application can process them it will either fill up the device's memory by buffering those messages, become unresponsive due to 100% CPU usage, or both. The WebSocketStream interface is a Promise -based alternative to WebSocket . It uses the Streams API to handle receiving and sending messages, meaning that socket connections can take advantage of stream backpressure automatically, regulating the speed of reading or writing to avoid bottlenecks in the application. However, WebSocketStream is non-standard and currently only supported in one rendering engine. Additionally, the WebTransport API is expected to replace the WebSocket API for many applications. WebTransport is a versatile, low-level API that provides backpressure and many other features not supported by either WebSocket or WebSocketStream , such as unidirectional streams, out-of-order delivery, and unreliable data transmission via datagrams. WebTransport is more complex to use than WebSockets and its cross-browser support is not as wide, but it enables the implementation of sophisticated solutions. If standard WebSocket connections are a good fit for your use case and you need wide browser compatibility, you should employ the WebSockets API to get up and running quickly. However, if your application requires a non-standard custom solution, then you should use the WebTransport API. Note: While a WebSocket connection is functionally somewhat similar to standard Unix-style sockets, they are not related. In this article Interfaces Related HTTP headers Guides Tools Specifications Browser compatibility See also Interfaces WebSocket The primary interface for connecting to a WebSocket server and then sending and receiving data on the connection. WebSocketStream Non-standard Promise-based interface for connecting to a WebSocket server; uses streams to send and receive data on the connection. CloseEvent The event sent by the WebSocket object when the connection closes. MessageEvent The event sent by the WebSocket object when a message is received from the server. Related HTTP headers The HTTP headers are used in the WebSocket handshake : Sec-WebSocket-Key An HTTP request header that contains a nonce from the client.\nThis is used in the WebSocket opening handshake to verify that the client explicitly intends to open a WebSocket.\nIt is added automatically by the browser. Sec-WebSocket-Accept An HTTP response header used in the WebSocket opening handshake to indicate that the server is willing to upgrade to a WebSocket connection.\nThe value in the directive is calculated from the value of Sec-WebSocket-Key in the corresponding request. Sec-WebSocket-Version An HTTP header that in requests indicates the version of the WebSocket protocol understood by the client.\nIn responses, it is sent only if the requested protocol version is not supported by the server, and lists the versions that the server supports. Sec-WebSocket-Protocol An HTTP header that in requests indicates the sub-protocols supported by the client in preferred order.\nIn responses, it indicates the sub-protocol selected by the server from the client's preferences. Sec-WebSocket-Extensions An HTTP header that in requests indicates the WebSocket extensions supported by the client in preferred order.\nIn responses, it indicates the extension selected by the server from the client's preferences. Guides Writing WebSocket client applications Writing WebSocket servers Writing a WebSocket server in C# Writing a WebSocket server in Java Writing a WebSocket server in JavaScript (Deno) Using WebSocketStream to write a client Tools AsyncAPI : A specification for describing event-driven architectures based on protocols like WebSocket. You can use it to describe WebSocket-based APIs just as you would describe REST APIs with the OpenAPI specification. Learn why you should consider using AsyncAPI with WebSocket and how to do so . \u00c2\u00b5WebSockets : Highly scalable WebSocket server and client implementation for C++11 and Node.js . Socket.IO : A long polling/WebSocket based third party transfer protocol for Node.js . SocketCluster : A pub/sub WebSocket framework for Node.js with a focus on scalability. WebSocket-Node : A WebSocket server API implementation for Node.js . Total.js : Web application framework for Node.js (Example: WebSocket chat ) SignalR : SignalR will use WebSockets under the covers when it's available, and gracefully fallback to other techniques and technologies when it isn't, while your application code stays the same. Caddy : A web server capable of proxying arbitrary commands (stdin/stdout) as a websocket. ws : a popular WebSocket client & server library for Node.js . cowboy : Cowboy is a small, fast and modern HTTP server for Erlang/OTP with WebSocket support. ZeroMQ : ZeroMQ is embeddable networking library that carries messages across in-process, IPC, TCP, UDP, TIPC, multicast and WebSocket. WebSocket King : A client tool to help develop, test and work with WebSocket servers. PHP WebSocket Server : Server written in PHP to handle connections via websockets wss:// or ws:// and normal sockets over ssl:// , tcp:// Django Channels : Django library that adds support for WebSockets (and other protocols that require long running asynchronous connections). (Phoenix) Channels : Scalable real-time communication using WebSocket in Elixir Phoenix framework. Phoenix LiveView : Real-time interactive web experiences through WebSocket in Elixir Phoenix framework. Flask-SocketIO : gives Flask applications access to low latency bi-directional communications between the clients and the server. Gorilla WebSocket : Gorilla WebSocket is a Go implementation of the WebSocket protocol. Specifications Specification WebSockets # the-websocket-interface Browser compatibility api.WebSocket api.WebSocketStream See also RFC 6455 \u00e2\u0080\u0094 The WebSocket Protocol WebSocket API Specification Server-Sent Events Help improve MDN Learn how to contribute This page was last modified on \u00e2\u0081\u00a8Feb 9, 2025\u00e2\u0081\u00a9 by MDN contributors . View this page on GitHub \u00e2\u0080\u00a2 Report a problem with this content"
]